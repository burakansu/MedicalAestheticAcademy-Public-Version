@model Personel
@{
    ViewData["Title"] = "Detay";
}

@{
	ViewBag.Title = "Personel Detay";
	var kisitlamalar = (List<Restriction>)ViewBag.kisitlamalar;
	var seciliKisitlamalar = (List<Restriction>)ViewBag.seciliKisitlamalar;
	string mesaj = ViewBag.msg != null ? $"<div class='alert alert-danger'>{ViewBag.msg}</div>" : "";
}
<div class="container-xxl">
	<!--begin::Content-->
	<div class="flex-lg-row-fluid">
		<!--begin::Extended content-->
		<div class="mb-13">
			<!--begin::Content-->
			<div class="mb-15">
				<!--begin::Title-->
				<h4 class="fs-2x text-gray-800 w-bolder mb-6">Frequesntly Asked Questions</h4>
				<!--end::Title-->
				<!--begin::Text-->
				<p class="fw-semibold fs-4 text-gray-600 mb-2">First, a disclaimer – the entire process of writing a blog post often takes more than a couple of hours, even if you can type eighty words as per minute and your writing skills are sharp.</p>
				<!--end::Text-->
			</div>
			<!--end::Content-->
			<!--begin::Item-->
			<div class="mb-15">
				<!--begin::Title-->
				<h3 class="text-gray-800 w-bolder mb-4">Personel Detayları</h3>
				<!--end::Title-->
				<!--begin::Accordion-->
				<!--begin::Section-->
				<div class="m-0">
					<!--begin::Heading-->
					<div class="d-flex align-items-center collapsible py-3 toggle mb-0" data-bs-toggle="collapse" data-bs-target="#personelSifreForm">
						<!--begin::Icon-->
						<div class="btn btn-sm btn-icon mw-20px btn-active-color-primary me-5">
							<!--begin::Svg Icon | path: icons/duotune/general/gen036.svg-->
							<span class="svg-icon toggle-on svg-icon-primary svg-icon-1">
								<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<rect opacity="0.3" x="2" y="2" width="20" height="20" rx="5" fill="currentColor" />
									<rect x="6.0104" y="10.9247" width="12" height="2" rx="1" fill="currentColor" />
								</svg>
							</span>
							<!--end::Svg Icon-->
							<!--begin::Svg Icon | path: icons/duotune/general/gen035.svg-->
							<span class="svg-icon toggle-off svg-icon-1">
								<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<rect opacity="0.3" x="2" y="2" width="20" height="20" rx="5" fill="currentColor" />
									<rect x="10.8891" y="17.8033" width="12" height="2" rx="1" transform="rotate(-90 10.8891 17.8033)" fill="currentColor" />
									<rect x="6.01041" y="10.9247" width="12" height="2" rx="1" fill="currentColor" />
								</svg>
							</span>
							<!--end::Svg Icon-->
						</div>
						<!--end::Icon-->
						<!--begin::Title-->
						<h4 class="text-gray-700 fw-bold cursor-pointer mb-0">Düzenle</h4>
						<!--end::Title-->
					</div>
					<!--end::Heading-->
					<!--begin::Body-->
					<div id="personelSifreForm" class="collapse show fs-6 ms-1">
						<!--begin::Text-->
						<div class="mb-4 text-gray-600 fw-semibold fs-6 ps-10">
							Personel Şifre Form
						</div>
						<!--end::Text-->
					</div>
					<!--end::Content-->
					<!--begin::Separator-->
					<div class="separator separator-dashed"></div>
					<!--end::Separator-->
				</div>
				<!--end::Section-->
				<!--begin::Section-->
				<div class="m-0">
					<!--begin::Heading-->
					<div class="d-flex align-items-center collapsible py-3 toggle mb-0" data-bs-toggle="collapse" data-bs-target="#personelForm">
						<!--begin::Icon-->
						<div class="btn btn-sm btn-icon mw-20px btn-active-color-primary me-5">
							<!--begin::Svg Icon | path: icons/duotune/general/gen036.svg-->
							<span class="svg-icon toggle-on svg-icon-primary svg-icon-1">
								<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<rect opacity="0.3" x="2" y="2" width="20" height="20" rx="5" fill="currentColor" />
									<rect x="6.0104" y="10.9247" width="12" height="2" rx="1" fill="currentColor" />
								</svg>
							</span>
							<!--end::Svg Icon-->
							<!--begin::Svg Icon | path: icons/duotune/general/gen035.svg-->
							<span class="svg-icon toggle-off svg-icon-1">
								<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<rect opacity="0.3" x="2" y="2" width="20" height="20" rx="5" fill="currentColor" />
									<rect x="10.8891" y="17.8033" width="12" height="2" rx="1" transform="rotate(-90 10.8891 17.8033)" fill="currentColor" />
									<rect x="6.01041" y="10.9247" width="12" height="2" rx="1" fill="currentColor" />
								</svg>
							</span>
							<!--end::Svg Icon-->
						</div>
						<!--end::Icon-->
						<!--begin::Title-->
						<h4 class="text-gray-700 fw-bold cursor-pointer mb-0">Şifre İşlemleri</h4>
						<!--end::Title-->
					</div>
					<!--end::Heading-->
					<!--begin::Body-->
					<div id="personelForm" class="collapse show fs-6 ms-1">
						<!--begin::Text-->
						<div class="mb-4 text-gray-600 fw-semibold fs-6 ps-10">
							Personel Form
						</div>
						<!--end::Text-->
					</div>
					<!--end::Content-->
					<!--begin::Separator-->
					<div class="separator separator-dashed"></div>
					<!--end::Separator-->
				</div>
				<!--end::Section-->
				<!--begin::Section-->
				<div class="m-0">
					<!--begin::Heading-->
					<div class="d-flex align-items-center collapsible py-3 toggle mb-0" data-bs-toggle="collapse" data-bs-target="#personelYetkiForm">
						<!--begin::Icon-->
						<div class="btn btn-sm btn-icon mw-20px btn-active-color-primary me-5">
							<!--begin::Svg Icon | path: icons/duotune/general/gen036.svg-->
							<span class="svg-icon toggle-on svg-icon-primary svg-icon-1">
								<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<rect opacity="0.3" x="2" y="2" width="20" height="20" rx="5" fill="currentColor" />
									<rect x="6.0104" y="10.9247" width="12" height="2" rx="1" fill="currentColor" />
								</svg>
							</span>
							<!--end::Svg Icon-->
							<!--begin::Svg Icon | path: icons/duotune/general/gen035.svg-->
							<span class="svg-icon toggle-off svg-icon-1">
								<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
									<rect opacity="0.3" x="2" y="2" width="20" height="20" rx="5" fill="currentColor" />
									<rect x="10.8891" y="17.8033" width="12" height="2" rx="1" transform="rotate(-90 10.8891 17.8033)" fill="currentColor" />
									<rect x="6.01041" y="10.9247" width="12" height="2" rx="1" fill="currentColor" />
								</svg>
							</span>
							<!--end::Svg Icon-->
						</div>
						<!--end::Icon-->
						<!--begin::Title-->
						<h4 class="text-gray-700 fw-bold cursor-pointer mb-0">Yetki Düzenle</h4>
						<!--end::Title-->
					</div>
					<!--end::Heading-->
					<!--begin::Body-->
					<div id="personelYetkiForm" class="collapse show fs-6 ms-1">
						<!--begin::Text-->
						<div class="mb-4 fw-semibold fs-6 ps-10">
							<form class="form" action="/personel/YetkiKaydet" method="post">
								@Html.Raw(mesaj)
								<input type="hidden" id="id" name="id" value="@Model.PersonelId" />
								<div class="card-body">

									@foreach (var k in kisitlamalar.GroupBy(g => g.Grup))
									{
										<div class="form-group row">
											<label class="col-xl-3 col-lg-3 col-form-label font-weight-bold text-left text-lg-right">@k.Key</label>
											<div class="col-lg-9 col-xl-6">
												<div class="checkbox-list">
													@foreach (var item in k)
													{
														var chk = seciliKisitlamalar.Select(s => s.RestrictionId).Contains(item.RestrictionId) ? "checked" : "";
														<label class="checkbox">
															<input type="checkbox" @chk name="ids" class="kid" value="@item.RestrictionId">
															<span></span>@item.Description
														</label>
													}

												</div>
											</div>
										</div>

										<div class="separator separator-dashed my-10"></div>

									}

								</div>
								<button type="submit" class="btn btn-primary">Kaydet</button>
							</form>
						</div>
						<!--end::Text-->
					</div>
					<!--end::Content-->
					<!--begin::Separator-->
					<div class="separator separator-dashed"></div>
					<!--end::Separator-->
				</div>
				<!--end::Section-->
				<!--end::Accordion-->
			</div>
			<!--end::Item-->
		</div>
		<!--end::Extended content-->
	</div>
	<!--end::Content-->
</div>
